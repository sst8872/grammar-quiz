{"id":"QdeU","dependencies":[{"name":"C:\\Users\\user\\Desktop\\projects\\amost-finished-NEVER-DELEVE\\grammar-quiz-modal\\package.json","includedInParent":true,"mtime":1574686380394},{"name":"./modal","loc":{"line":1,"column":22},"parent":"C:\\Users\\user\\Desktop\\projects\\amost-finished-NEVER-DELEVE\\grammar-quiz-modal\\js\\app.js","resolved":"C:\\Users\\user\\Desktop\\projects\\amost-finished-NEVER-DELEVE\\grammar-quiz-modal\\js\\modal.js"}],"generated":{"js":"\"use strict\";var e=t(require(\"./modal\"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e){return c(e)||r(e)||o()}function o(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function r(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(0,e.default)();var a=function(){var e=\"1nnCrmaEtLiaVTfWmgRdaR9GW_SJE9tR-XSAEtskMWPM\",t=[],o={},r={},c=document.querySelector(\".peter-box\"),a=document.querySelector(\"#dropDownList\"),u=document.querySelector(\".index\"),i=document.querySelector(\".output\");function l(e){s(e.target.value)}function s(e){o.page=0,o.score=0,o.curQuiz=m(t[e]),console.log(o.curQuiz),o.totalQuestions=o.curQuiz.length,d()}function d(){var e,t,a=o.curQuiz[o.page];if(i.innerHTML=\"\",c.innerHTML=\"\",u.innerHTML=\"\",document.querySelector(\".box\").style.borderBottomColor=\"#03a9f2\",o.page>=o.totalQuestions){var l=(e=o.score,t=o.totalQuestions,Math.floor(100*e/t));i.innerHTML='<div class=\"scoreOutput\">Game Over</div>',i.innerHTML+='<div class=\"scoreOutput\">Your score is '.concat(l,\"%</div>\"),document.querySelector(\".box\").style.borderBottomColor=\"#f6f6f6\"}else{var s=document.createElement(\"h2\"),d=document.createTextNode(\"\".concat(a.question));s.appendChild(d),i.appendChild(s);var f=[];for(var v in r.correct=a.correct,r.kor=a.kor,r.exp=a.exp,r.question=a.question,a)if(\"question\"!=v&&\"kor\"!=v&&\"exp\"!=v){var y=a[v],h=!1;\"correct\"==v&&(h=!0),y&&(f=[].concat(n(f),[{answer:y,status:h}]))}m(f);var q=document.createElement(\"ul\");f.forEach(function(e,t){var n=document.createElement(\"li\");n.textContent=f[t].answer,n.checkMe=f[t].status,n.addEventListener(\"click\",p),n.insertAdjacentHTML(\"afterbegin\",\"<span>\".concat(t+1,\"</span>\")),q.appendChild(n)});var x=document.createElement(\"div\");x.setAttribute(\"class\",\"index\"),x.innerHTML='<span class=\"index\">'.concat(o.page+1,\" / \").concat(o.curQuiz.length,\"</span>\"),document.querySelector(\".index\").appendChild(x),i.appendChild(q)}}function m(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}return e}function p(e){var t=document.querySelector(\".modalBtn\");t.style.display=\"block\",t.addEventListener(\"click\",f);var n=\"Sorry, Incorrect\",r=e.target.checkMe?\"green\":\"red\";e.target.checkMe&&(o.score++,n=\"Correct\"),o.page++,document.querySelectorAll(\"li\").forEach(function(e){e.removeEventListener(\"click\",p)});var a=document.createElement(\"div\"),u=\"Next Question\";o.page>=o.totalQuestions&&(u=\"See Results\"),a.innerHTML=\" \\n                <h4 class=\".concat(r,\">\").concat(n,'</h4>\\n                <p>\\n                <input \\n                    type=\"submit\" \\n                    value=\"').concat(u,'\"\\n                    class=\"peter-button\" \\n                    /> \\n                </p>'),a.addEventListener(\"click\",function(){document.querySelector(\".modalBtn\").style.display=\"none\",document.querySelector(\".h2\").textContent=\"\",document.querySelector(\".question\").textContent=\"\",document.querySelector(\".kor\").textContent=\"\",document.querySelector(\".exp\").textContent=\"\",document.querySelector(\".modalWrapper\").classList.remove(\"showModal\"),d()}),c.appendChild(a)}function f(e){document.querySelector(\".h2\").textContent=\"정답 \"+r.correct,document.querySelector(\".question\").textContent=\"[문제] \"+r.question,document.querySelector(\".kor\").textContent=r.kor,document.querySelector(\".exp\").textContent=r.exp}return{init:function(){fetch(\"https://script.google.com/macros/s/AKfycbziQxGY0Qwqp9fS0-kDmtc6cOyJekx-dxBz_B2KB-DSErzJgc2m/exec\").then(function(e){return e.json()}).then(function(o){!function(o){for(var r=[],c=1;c<=o;c++){var u=\"https://spreadsheets.google.com/feeds/list/\".concat(e,\"/\").concat(c,\"/public/values?alt=json\");r=[].concat(n(r),[u])}Promise.all(r.map(function(e){return fetch(e).then(function(e){return e.json()}).then(function(e){var t=[],o=e.feed.title.$t;return e.feed.entry.forEach(function(e){var o={};for(var r in e)\"gsx\"===r.substring(0,3)&&(o[r.split(\"$\")[1]]=e[r].$t);t=[].concat(n(t),[o])}),{key:o,value:t}})})).then(function(e){e.forEach(function(n,o){t[e[o].key]=e[o].value}),document.querySelector(\".loader\").style.display=\"none\",document.querySelector(\".box\").style.display=\"block\",document.querySelector(\".modal\").style.display=\"block\",function(){var e=document.createElement(\"select\");e.classList.add(\"select-css\");var n=!0;for(var o in t){var r=document.createElement(\"option\");r.value=o,r.textContent=o,e.appendChild(r),n&&(n=!1,s(o))}e.addEventListener(\"change\",l),a.appendChild(e)}()})}(o)})}}}();document.addEventListener(\"DOMContentLoaded\",a.init);"},"sourceMaps":null,"error":null,"hash":"dc3d053d765bfe1099048ef28ed4869b","cacheData":{"env":{}}}